<!-- templates/create_post_confirm.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>確認画面</title>
</head>
<body>
  <h1>確認画面</h1>
  
  <div style="display:flex; gap:2rem;">
    <!-- 左: サムネイル画像 -->
    <div>
      {% if post_data.thumbnail_filename %}
        <p>サムネイル</p>
        <!-- tmpフォルダにあるファイルを表示 (要設定: /tmp/ へのアクセス) -->
        <img 
          src="{{ url_for('static', filename='../tmp/' ~ post_data.thumbnail_filename) }}" 
          alt="Thumbnail"
          style="max-width:200px;"
        >
      {% else %}
        <p>画像なし</p>
      {% endif %}
      <p>{{ post_data.content }}</p>
    </div>
    
    <!-- 右: ツイートプレビュー(iframeやembedなどで再現できる場合も) -->
    <div>
      <p>ツイートURLプレビュー</p>
      <iframe 
        src="{{ post_data.tweet_link }}" 
        style="width:300px; height:400px; border:1px solid #ccc;">
      </iframe>
    </div>
  </div>

  <!-- タグ一覧 -->
  <div>
    <p>タグ:</p>
    {% if post_data.tags %}
      {% set tag_list = post_data.tags.split() %}
      {% for tag in tag_list %}
        <span style="padding:5px; background:#333; margin:2px; border-radius:4px;">
          {{ tag }}
        </span>
      {% endfor %}
    {% else %}
      <p>タグなし</p>
    {% endif %}
  </div>

  <!-- ボタン類 -->
  <form action="{{ url_for('create_post') }}" method="POST">
    <!-- 「登録」ボタン -->
    <button type="submit" name="action" value="register" style="background:teal; color:#fff;">
      登録
    </button>
    <!-- 「変更」ボタン: フォームに戻る (history.back() でもOK) -->
    <button type="button" onclick="history.back()" style="background:#f33; color:#fff;">
      変更
    </button>
  </form>
</body>
</html>